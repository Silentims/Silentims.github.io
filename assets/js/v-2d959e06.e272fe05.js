"use strict";(self.webpackChunkswbook=self.webpackChunkswbook||[]).push([[739],{7596:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-2d959e06",path:"/blog/vuepress-doc.html",title:"VuePress2.x 搭建与自动化部署",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"一、依赖环境准备",slug:"一、依赖环境准备",children:[{level:3,title:"Node.js 下载与安装",slug:"node-js-下载与安装",children:[]},{level:3,title:"Git 下载与安装",slug:"git-下载与安装",children:[]}]},{level:2,title:"二、使用工具准备",slug:"二、使用工具准备",children:[{level:3,title:"VSCode 下载与安装",slug:"vscode-下载与安装",children:[]},{level:3,title:"VSCode 插件推荐",slug:"vscode-插件推荐",children:[]}]},{level:2,title:"三、VuePress 安装",slug:"三、vuepress-安装",children:[{level:3,title:"项目创建",slug:"项目创建",children:[]},{level:3,title:"主题配置",slug:"主题配置",children:[]},{level:3,title:"本地调试",slug:"本地调试",children:[]},{level:3,title:"代码托管",slug:"代码托管",children:[]}]},{level:2,title:"四、自动化部署",slug:"四、自动化部署",children:[{level:3,title:"创建脚本",slug:"创建脚本",children:[]},{level:3,title:"配置脚本",slug:"配置脚本",children:[]},{level:3,title:"执行脚本",slug:"执行脚本",children:[]},{level:3,title:"网站访问",slug:"网站访问",children:[]}]},{level:2,title:"五、云服务器域名访问",slug:"五、云服务器域名访问",children:[{level:3,title:"域名注册",slug:"域名注册",children:[]},{level:3,title:"域名解析",slug:"域名解析",children:[]},{level:3,title:"证书申请",slug:"证书申请",children:[]},{level:3,title:"Nginx安装与配置",slug:"nginx安装与配置",children:[]}]}],filePathRelative:"blog/vuepress-doc.md",git:{updatedTime:1628756627e3,contributors:[]}}},6652:(n,s,a)=>{a.r(s),a.d(s,{default:()=>Pe});var e=a(6252),l=a(138),t=a(429),c=a(9796),_=a(7318),r=a(678),o=a(5873),i=a(1749),u=a(7953),p=a(3732);const k=(0,e._)("h1",{id:"vuepress2-x-搭建与自动化部署",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#vuepress2-x-搭建与自动化部署","aria-hidden":"true"},"#"),(0,e.Uk)(" VuePress2.x 搭建与自动化部署")],-1),b={class:"custom-container warning"},m=(0,e._)("p",{class:"custom-container-title"},"写在前面",-1),d=(0,e.Uk)("之前陆续折腾过很多静态博客，包括 "),U={href:"https://jekyllrb.com/",target:"_blank",rel:"noopener noreferrer"},h=(0,e.Uk)("Jekyll"),g=(0,e.Uk)("、"),v={href:"https://hexo.io/zh-cn/",target:"_blank",rel:"noopener noreferrer"},x=(0,e.Uk)("Hexo"),f=(0,e.Uk)("、"),y={href:"http://typecho.org/",target:"_blank",rel:"noopener noreferrer"},w=(0,e.Uk)("Typecho"),S=(0,e.Uk)("，现在又转到 "),P={href:"https://v2.vuepress.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"},G=(0,e.Uk)("VuePress"),T=(0,e.Uk)(" 的原因，主要是想建立一个自己的技术知识站，而非时间线的散文式博客网站，正好 VuePress 就很合适，风格也很简洁美观。"),E=(0,e._)("p",null,"所以这篇适用于 VuePress2.x 版本的博客搭建手册，旨在帮助也有这种想法的小伙伴，只需要在本地写好文章，提交，等待自动发布完成，即可访问自己的网站，查看最新发布的文章。",-1),C=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},"本篇涉及的技术和工具"),(0,e._)("p",null,"VuePress2.x、MacOS/Win 10/CentOS 8、VSCode、Git、Github、Github Actions、Github Pages、Docker、Nginx、云服务器ECS、域名、HTTP 证书")],-1),N=(0,e._)("hr",null,null,-1),A=(0,e._)("h2",{id:"一、依赖环境准备",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#一、依赖环境准备","aria-hidden":"true"},"#"),(0,e.Uk)(" 一、依赖环境准备")],-1),j=(0,e._)("h3",{id:"node-js-下载与安装",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#node-js-下载与安装","aria-hidden":"true"},"#"),(0,e.Uk)(" Node.js 下载与安装")],-1),W={class:"custom-container tip"},H=(0,e._)("p",{class:"custom-container-title"},"什么是 Node.js ?",-1),I=(0,e.Uk)("Node.js 是一个开源与跨平台的 JavaScript 运行时环境。 它是一个可用于几乎任何项目的流行工具。在安装 VuePress 之前，需要先安装 Node.js 环境，"),V={href:"https://nodejs.org/zh-cn/",target:"_blank",rel:"noopener noreferrer"},O=(0,e.Uk)("官网地址"),R=(0,e._)("blockquote",null,[(0,e._)("p",null,"已安装 Node.js 可跳过此步骤")],-1),L=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 通过 homebrew 安装"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token comment"},"# 1.检查 brew 版本（若已安装跳至第 3 步）"),(0,e.Uk)("\nbrew -v\n"),(0,e._)("span",{class:"token comment"},"# 2.安装 homebrew"),(0,e.Uk)("\nruby -e "),(0,e._)("span",{class:"token string"},[(0,e.Uk)('"'),(0,e._)("span",{class:"token variable"},[(0,e._)("span",{class:"token variable"},"$("),(0,e._)("span",{class:"token function"},"curl"),(0,e.Uk)(" -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install"),(0,e._)("span",{class:"token variable"},")")]),(0,e.Uk)('"')]),(0,e.Uk)(" \n"),(0,e._)("span",{class:"token comment"},"# 3.安装 node"),(0,e.Uk)("\nbrew "),(0,e._)("span",{class:"token function"},"link"),(0,e.Uk)(" node\nbrew uninstall node\nbrew "),(0,e._)("span",{class:"token function"},"install"),(0,e.Uk)(" node\n"),(0,e._)("span",{class:"token comment"},"# 4.验证 （我的 npm 版本是6.14.10，node 版本是v14.15.0）"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"npm"),(0,e.Uk)(" -v\nnode -v\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br")])],-1),M=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 可以参考菜鸟教程的安装步骤 "),(0,e.Uk)("\nhttps://www.runoob.com/nodejs/nodejs-install-setup.html\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br")])],-1),z=(0,e._)("h3",{id:"git-下载与安装",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#git-下载与安装","aria-hidden":"true"},"#"),(0,e.Uk)(" Git 下载与安装")],-1),D={class:"custom-container tip"},K=(0,e._)("p",{class:"custom-container-title"},"为什么要使用 Git ？",-1),q=(0,e.Uk)("Git 是一个开源的分布式版本控制系统，用于敏捷高效地管理项目的版本。博客网站也会经常更新和修改文章，所以引入 Git，方便我们管理，详细可查阅"),Y={href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"},$=(0,e.Uk)("Git 官网"),F=(0,e.Uk)("。"),B=(0,e._)("blockquote",null,[(0,e._)("p",null,"已安装 Git 可跳过此步骤")],-1),J=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 通过 homebrew 安装"),(0,e.Uk)("\nbrew "),(0,e._)("span",{class:"token function"},"install"),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"git"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token comment"},"# 检查 输入后显示可操作的指令列表，表示安装成功"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"git"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),Q=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 待完善"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token comment"},"# 可以先查阅网络主流教程，很全面"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br")])],-1),X=(0,e._)("h2",{id:"二、使用工具准备",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#二、使用工具准备","aria-hidden":"true"},"#"),(0,e.Uk)(" 二、使用工具准备")],-1),Z=(0,e._)("h3",{id:"vscode-下载与安装",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#vscode-下载与安装","aria-hidden":"true"},"#"),(0,e.Uk)(" VSCode 下载与安装")],-1),nn=(0,e.Uk)("推荐使用微软自家的 VSCode 客户端，点击"),sn={href:"https://code.visualstudio.com/download",target:"_blank",rel:"noopener noreferrer"},an=(0,e.Uk)("官网下载"),en=(0,e.Uk)("，VSCode 由于跨平台，登录 Github 或者微软账号后，即可在 Mac 与 Window 系统之间同步插件，配置、主题等，同时又支持 Git、代码高亮、Markdown预览等丰富的插件"),ln=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"点击查看 Window 客户端安装建议"),(0,e._)("p",null,[(0,e.Uk)("Windows 版本提供了 system installer 和 user installer 两个下载包，user installer 安装包对系统权限低，使用中会有意想不到的麻烦， system installer 则能畅通无阻。为了避免不必要的麻烦，建议下载"),(0,e._)("code",null,"system installer"),(0,e.Uk)("安装包。")])],-1),tn=(0,e._)("h3",{id:"vscode-插件推荐",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#vscode-插件推荐","aria-hidden":"true"},"#"),(0,e.Uk)(" VSCode 插件推荐")],-1),cn=(0,e.Uk)("VSCode 推荐的插件 "),_n=(0,e.Uk)("适用于 Mac 和 Win10 都好看的字体 "),rn=(0,e._)("h2",{id:"三、vuepress-安装",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#三、vuepress-安装","aria-hidden":"true"},"#"),(0,e.Uk)(" 三、VuePress 安装")],-1),on={class:"custom-container tip"},un=(0,e._)("p",{class:"custom-container-title"},"简介",-1),pn=(0,e.Uk)("VuePress 是一个以 Markdown 为中心的静态网站生成器。你可以使用 "),kn={href:"https://zh.wikipedia.org/wiki/Markdown",target:"_blank",rel:"noopener noreferrer"},bn=(0,e.Uk)("Markdown"),mn=(0,e.Uk)(" 来书写内容（如文档、博客等），然后 VuePress 会帮助你生成一个静态网站来展示它们。"),dn=(0,e._)("h3",{id:"项目创建",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#项目创建","aria-hidden":"true"},"#"),(0,e.Uk)(" 项目创建")],-1),Un=(0,e.Uk)("此处与官方文档基本一致，详细可以参考官方的"),hn={href:"https://v2.vuepress.vuejs.org/zh/guide/getting-started.html",target:"_blank",rel:"noopener noreferrer"},gn=(0,e.Uk)("快速上手"),vn=(0,e._)("p",null,[(0,e._)("strong",null,"步骤 1"),(0,e.Uk)(": 创建并进入一个新目录")],-1),xn=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 创建一个自定义命名的文件夹，此文件夹作为网站项目的根目录"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" swbook\n"),(0,e._)("span",{class:"token comment"},"# 进入项目"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" swbook\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),fn=(0,e._)("p",null,[(0,e._)("strong",null,"步骤 2"),(0,e.Uk)(": 初始化项目")],-1),yn=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 初始化当前项目为一个 git 项目，方便后续管理"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"git"),(0,e.Uk)(" init\n"),(0,e._)("span",{class:"token comment"},"# 执行过程中会提示设置基础配置信息，一律回车跳过即可，后续可在 package.json中 修改，完成后项目会多一个 package.json 文件"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"npm"),(0,e.Uk)(" init\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),wn=(0,e._)("p",null,[(0,e._)("strong",null,"步骤 3"),(0,e.Uk)(": 将 VuePress 安装为本地依赖")],-1),Sn=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 完成后项目中会生成 package-lock.json 文件和 node_modules 文件夹"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"npm"),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"install"),(0,e.Uk)(" -D vuepress@next\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br")])],-1),Pn=(0,e._)("p",null,[(0,e._)("strong",null,"步骤 4"),(0,e.Uk)(": 将默认的临时目录和缓存目录添加到 "),(0,e._)("code",null,".gitignore"),(0,e.Uk)(" 文件中")],-1),Gn=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 以下命令执行并回车，目的是让 git 忽略，不做版本管理，后续有不需要 Git 管理的也可以添加进来"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'node_modules'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},">>"),(0,e.Uk)(" .gitignore\n"),(0,e._)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'.temp'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},">>"),(0,e.Uk)(" .gitignore\n"),(0,e._)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'.cache'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},">>"),(0,e.Uk)(" .gitignore\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),Tn=(0,e._)("p",null,[(0,e._)("strong",null,"步骤 5"),(0,e.Uk)(": 创建你的第一篇文档")],-1),En=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 创建文章目录，此目录会作为以后存放文章的根目录"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" docs\n"),(0,e._)("span",{class:"token comment"},"# 创建一个 markdown 文档，并添加一个一级标题"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'# Hello VuePress'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},">"),(0,e.Uk)(" docs/README.md\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),Cn=(0,e._)("p",null,[(0,e._)("strong",null,"步骤 6"),(0,e.Uk)(": 用"),(0,e._)("code",null,"vi"),(0,e.Uk)("命令打开项目中 "),(0,e._)("code",null,"package.json"),(0,e.Uk)(" 文件，找到并替换"),(0,e._)("code",null,"scripts"),(0,e.Uk)("中的内容为以下")],-1),Nn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n  "),(0,e._)("span",{class:"token string"},'"scripts"'),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token string"},'"docs:dev"'),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},'"vuepress dev docs"'),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token string"},'"docs:build"'),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},'"vuepress build docs"'),(0,e.Uk)("\n  "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"highlight-lines"},[(0,e._)("br"),(0,e._)("br"),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("br"),(0,e._)("br")]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br")])],-1),An=(0,e._)("p",null,[(0,e._)("strong",null,"步骤 7"),(0,e.Uk)(": 本地启动，来查看和调试你的文档网站")],-1),jn=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 确保在目录 swbook 下执行"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"npm"),(0,e.Uk)(" run docs:dev\n"),(0,e._)("span",{class:"token comment"},"# 出现success VuePress webpack dev server is listening at http://localhost:8080/表示启动成功"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br")])],-1),Wn=(0,e._)("p",null,[(0,e._)("strong",null,"步骤 8"),(0,e.Uk)("：打开浏览器，访问 http://localhost:8080，本地搭建成功")],-1),Hn=(0,e._)("p",null,[(0,e._)("img",{src:l,alt:"image-20210810152202043"})],-1),In=(0,e._)("h3",{id:"主题配置",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#主题配置","aria-hidden":"true"},"#"),(0,e.Uk)(" 主题配置")],-1),Vn={class:"custom-container tip"},On=(0,e._)("p",{class:"custom-container-title"},"提示",-1),Rn=(0,e.Uk)("此处只演示网站首页、顶部导航栏、网站标题栏图标、网站 Logo的简单配置，进阶配置可参考官方的"),Ln={href:"https://v2.vuepress.vuejs.org/zh/guide/configuration.html",target:"_blank",rel:"noopener noreferrer"},Mn=(0,e.Uk)("主题配置"),zn=(0,e._)("p",null,[(0,e.Uk)("在"),(0,e._)("code",null,"/docs/.vuepress"),(0,e.Uk)("目录下，创建"),(0,e._)("code",null,"public/images"),(0,e.Uk)("文件夹，以及"),(0,e._)("code",null,"config.js"),(0,e.Uk)("文件")],-1),Dn=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 进入.vuepress目录"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" docs/.vuepress/\n"),(0,e._)("span",{class:"token comment"},"# 创建存放网站图片的目录"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" -p public/images\n"),(0,e._)("span",{class:"token comment"},"# 创建 config.js 配置文件"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"touch"),(0,e.Uk)(" config.js\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br")])],-1),Kn=(0,e._)("p",null,[(0,e.Uk)("修改"),(0,e._)("code",null,"config.js"),(0,e.Uk)("文件内容")],-1),qn=(0,e._)("blockquote",null,[(0,e._)("p",null,"此处直接复制下面的基础配置，再根据注释，自行修改和删减")],-1),Yn=(0,e._)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,e._)("pre",{class:"language-javascript"},[(0,e._)("code",null,[(0,e.Uk)("module"),(0,e._)("span",{class:"token punctuation"},"."),(0,e.Uk)("exports "),(0,e._)("span",{class:"token operator"},"="),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n  lang"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'zh-CN'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"//语言"),(0,e.Uk)("\n  title"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'SW·BOOK'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\t\t"),(0,e._)("span",{class:"token comment"},"//(全局默认)导航栏左上角标题"),(0,e.Uk)("\n  description"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'时间会回答成长，成长会回答梦想'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"//(全局默认)描述"),(0,e.Uk)("\n\n  "),(0,e._)("span",{class:"token comment"},"// head 可以配置网站标题栏的图标，如果不配置默认显示 vuepress 图标"),(0,e.Uk)("\n  head"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"//支持图片 url 和本地，这里使用本地的相对路径，把准备好的 ico 图标文件复制到/images目录下"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"["),(0,e._)("span",{class:"token string"},"'link'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(" rel"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'icon'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)(" href"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'/images/favicon.ico'"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n  "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n\n  "),(0,e._)("span",{class:"token comment"},"//主题配置 详细可参考https://v2.vuepress.vuejs.org/zh/reference/default-theme/config.html "),(0,e.Uk)("\n  themeConfig"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"//导航栏左侧图标： 图片需要放在 /images 目录下"),(0,e.Uk)("\n    logo"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'/images/favicon.ico'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n\n    \n    "),(0,e._)("span",{class:"token comment"},"//导航栏右侧分类：这里的 link 路径对应是在 docs 根目录下，详细配置参考官方，这里容易配置错误"),(0,e.Uk)("\n    navbar"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token comment"},"// 方式一：NavbarItem"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        text"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'首页'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        link"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'/'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token comment"},"// 方式二：NavbarGroup 嵌套最多 2 层"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        text"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'分类'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n        children"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            text"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'子类a'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n            link"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'/md/sub-a'"),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"//表示链接到/docs/md/目录下的 sub-a.md 文件，即 /docs作为根目录可省略"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n            text"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'子类b'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\t\t"),(0,e._)("span",{class:"token comment"},"//这里子类b包括两个2 层分类，官方表示最多支持 2 层"),(0,e.Uk)("\n            children"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("\n              "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n                text"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'子类b-1'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n                link"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'/md/sub-b-1'"),(0,e.Uk)("  \n              "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n              "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n                text"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'子类b-2'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n                link"),(0,e._)("span",{class:"token operator"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'/md/sub-b-2'"),(0,e.Uk)("  \n              "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n            "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("    \n          "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token comment"},"// 方式三：字符串 - 页面文件路径（会自动转换为 NavbarItem，文件路径为 link，文件标题为 text）"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token string"},"'/about.md'"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"]"),(0,e._)("span",{class:"token punctuation"},","),(0,e.Uk)("\n    \n    "),(0,e._)("span",{class:"token comment"},"//其他配置..."),(0,e.Uk)("\n  \n  "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"17"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"18"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"19"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"20"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"21"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"22"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"23"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"24"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"25"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"26"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"27"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"28"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"29"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"30"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"31"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"32"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"33"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"34"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"35"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"36"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"37"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"38"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"39"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"40"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"41"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"42"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"43"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"44"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"45"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"46"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"47"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"48"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"49"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"50"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"51"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"52"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"53"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"54"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"55"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"56"),(0,e._)("br")])],-1),$n=(0,e._)("p",null,[(0,e.Uk)("由于配置文件中涉及导航栏中的几个测试文章，所以也分别在"),(0,e._)("code",null,"/docs"),(0,e.Uk)("目录下临时创建几篇文章，为了演示，默认都在这几篇文章添加对应的一级标题即可:")],-1),Fn=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 进入 docs 目录下，创建一个用于存放文章的目录 md"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" docs\n"),(0,e._)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" md\n"),(0,e._)("span",{class:"token comment"},"# 创建关于页"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'# 关于'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},">"),(0,e.Uk)(" about.md\n"),(0,e._)("span",{class:"token comment"},"# 创建文章页，并各自添加一个一级标题（此处也可以不通过命令行创建创建）"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" md\n"),(0,e._)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'# 子类a'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},">"),(0,e.Uk)(" sub-a.md\n"),(0,e._)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'# 子类b-1'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},">"),(0,e.Uk)(" sub-b-1.md\n"),(0,e._)("span",{class:"token builtin class-name"},"echo"),(0,e.Uk)(),(0,e._)("span",{class:"token string"},"'# 子类b-2'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},">"),(0,e.Uk)(" sub-b-2.md\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br")])],-1),Bn=(0,e._)("p",null,[(0,e.Uk)("修改首页文件"),(0,e._)("code",null,"/docs/README.md"),(0,e.Uk)("中的内容")],-1),Jn=(0,e._)("div",{class:"language-markdown ext-md line-numbers-mode"},[(0,e._)("pre",{class:"language-markdown"},[(0,e._)("code",null,[(0,e._)("span",{class:"token front-matter-block"},[(0,e._)("span",{class:"token punctuation"},"---"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token font-matter yaml language-yaml"},[(0,e._)("span",{class:"token key atrule"},"home"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean important"},"true"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token key atrule"},"heroImage"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" /images/logo.png\n"),(0,e._)("span",{class:"token key atrule"},"actions"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n  "),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(),(0,e._)("span",{class:"token key atrule"},"text"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 点击进入→\n    "),(0,e._)("span",{class:"token key atrule"},"link"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" /about\n    "),(0,e._)("span",{class:"token key atrule"},"type"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" secondary\n"),(0,e._)("span",{class:"token key atrule"},"features"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(),(0,e._)("span",{class:"token key atrule"},"title"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 夯实基础\n  "),(0,e._)("span",{class:"token key atrule"},"details"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 成功没有捷径，难的是坚持\n"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(),(0,e._)("span",{class:"token key atrule"},"title"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 提升自我\n  "),(0,e._)("span",{class:"token key atrule"},"details"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 记录成长，关注过程，持续输出\n"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(),(0,e._)("span",{class:"token key atrule"},"title"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 构建体系\n  "),(0,e._)("span",{class:"token key atrule"},"details"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" 告别碎片化学习，积累自己的知识体系\n"),(0,e._)("span",{class:"token key atrule"},"footerHtml"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean important"},"true"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token key atrule"},"footer"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" MIT Licensed "),(0,e._)("span",{class:"token punctuation"},"|"),(0,e.Uk)(" Copyright © 2017"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)("present "),(0,e._)("span",{class:"token punctuation"},"|"),(0,e.Uk)(" @author </br"),(0,e._)("span",{class:"token punctuation"},">"),(0,e.Uk)("</br"),(0,e._)("span",{class:"token punctuation"},">"),(0,e.Uk)('<a style="font'),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)("size"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)('14px;" href="http'),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)('//beian.miit.gov.cn/" target="_blank" '),(0,e._)("span",{class:"token punctuation"},">"),(0,e.Uk)("京ICP备xxx号</a"),(0,e._)("span",{class:"token punctuation"},">")]),(0,e.Uk)(" \n"),(0,e._)("span",{class:"token punctuation"},"---")]),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"17"),(0,e._)("br")])],-1),Qn=(0,e.Uk)("更多 markdown 参数（即”---“之间的部分）可参考官方 "),Xn={href:"https://v2.vuepress.vuejs.org/zh/reference/frontmatter.html#lang",target:"_blank",rel:"noopener noreferrer"},Zn=(0,e.Uk)("Frontmatter 参数说明"),ns=(0,e._)("p",null,"至此，基础的配置已经完成，主要的文件结构如下",-1),ss=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e.Uk)("swbook\t"),(0,e._)("span",{class:"token comment"},"# 项目根目录"),(0,e.Uk)("\n├── docs\t"),(0,e._)("span",{class:"token comment"},"# 网站内容根目录"),(0,e.Uk)("\n│   ├── .vuepress\t"),(0,e._)("span",{class:"token comment"},"# vuepress 目录"),(0,e.Uk)("\n│   │   ├── config.js\t"),(0,e._)("span",{class:"token comment"},"# 主配置文件"),(0,e.Uk)("\n│   │   ├── public\t"),(0,e._)("span",{class:"token comment"},"# 存放公共静态资源"),(0,e.Uk)("\n│   │   │   └── images\t\n│   │   │       ├── favicon.ico\t"),(0,e._)("span",{class:"token comment"},"# 网站标题栏图标"),(0,e.Uk)("\n│   │   │       └── logo.png\t"),(0,e._)("span",{class:"token comment"},"# 网站 logo 图片"),(0,e.Uk)("\n│   ├── README.md\t"),(0,e._)("span",{class:"token comment"},"# 首页"),(0,e.Uk)("\n│   ├── about.md\t"),(0,e._)("span",{class:"token comment"},"# 关于页"),(0,e.Uk)("\n│   └── md\t"),(0,e._)("span",{class:"token comment"},"# 文章目录 ps：可以自定义很多同级和子级目录，只要是在 /docs 下即可"),(0,e.Uk)("\n│       ├── sub-a.md\t"),(0,e._)("span",{class:"token comment"},"# 文章 1"),(0,e.Uk)("\n│       ├── sub-b-1.md\t"),(0,e._)("span",{class:"token comment"},"# 文章 2"),(0,e.Uk)("\n│       └── sub-b-2.md\t"),(0,e._)("span",{class:"token comment"},"# 文章 3"),(0,e.Uk)("\n├── package-lock.json\n└── package.json\t"),(0,e._)("span",{class:"token comment"},"# 项目配置文件"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br")])],-1),as=(0,e._)("h3",{id:"本地调试",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#本地调试","aria-hidden":"true"},"#"),(0,e.Uk)(" 本地调试")],-1),es=(0,e._)("p",null,"在本地环境进行编译，运行",-1),ls=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 切换到 swbook 目录"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" swbook\n"),(0,e._)("span",{class:"token comment"},"# 编译运行"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"npm"),(0,e.Uk)(" run docs:dev\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),ts=(0,e.Uk)("网站访问 "),cs={href:"http://localhost:8080/",target:"_blank",rel:"noopener noreferrer"},_s=(0,e.Uk)("http://localhost:8080"),rs=(0,e.Uk)(" 查看效果"),os=(0,e._)("p",null,[(0,e._)("img",{src:t,alt:"image-20210810152314828"})],-1),is=(0,e._)("h3",{id:"代码托管",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#代码托管","aria-hidden":"true"},"#"),(0,e.Uk)(" 代码托管")],-1),us=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},"为什么要托管 ？"),(0,e._)("p",null,"本地编写好文章后，为了方便备份以及后续自动化部署，需要将本地整个博客网站内容托管至 Github")],-1),ps=(0,e._)("h4",{id:"创建代码仓库",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#创建代码仓库","aria-hidden":"true"},"#"),(0,e.Uk)(" 创建代码仓库")],-1),ks=(0,e.Uk)("登录 "),bs={href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"},ms=(0,e.Uk)("Github"),ds=(0,e.Uk)("，创建一个仓库"),Us=(0,e._)("code",null,"swbook",-1),hs=(0,e.Uk)("，如果为了隐私，可以初始化为私库，即 private。"),gs=(0,e._)("blockquote",null,[(0,e._)("p",null,"因为我这已经创建swbook 仓库，所以图中使用 swbooks 演示，仓库名可随意自定义，无需与项目名相同，但是建议保持一致")],-1),vs=(0,e._)("p",null,[(0,e._)("img",{src:c,alt:"image-20210810152517498"})],-1),xs=(0,e._)("p",null,"创建成功后，目前是一个空的仓库：",-1),fs={id:"配置-ssh-连接",tabindex:"-1"},ys=(0,e._)("a",{class:"header-anchor",href:"#配置-ssh-连接","aria-hidden":"true"},"#",-1),ws=(0,e.Uk)(" 配置 SSH 连接 "),Ss=(0,e._)("blockquote",null,[(0,e._)("p",null,"如果本地以配置 SSH 连接可跳过此步骤")],-1),Ps=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"Tips 为什么要采用 SSH 来连接？"),(0,e._)("p",null,"在使用 HTTPS 协议连接 Github 时，使用 git pull、git push 等命令时需要输入密码，频繁拉取和提交时，屡次输入账号密码很不方便，所以使用 SSH 协议实现免密连接，一劳永逸")],-1),Gs=(0,e._)("ol",null,[(0,e._)("li",null,[(0,e._)("p",null,"生成公钥和私钥")]),(0,e._)("li",null,[(0,e._)("p",null,"上传公钥到 Github")]),(0,e._)("li",null,[(0,e._)("p",null,"测试连接")])],-1),Ts=(0,e._)("h4",{id:"首次提交",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#首次提交","aria-hidden":"true"},"#"),(0,e.Uk)(" 首次提交")],-1),Es=(0,e._)("p",null,[(0,e.Uk)("由于是首次提交，需要初始化提交，先进入项目根目录"),(0,e._)("code",null,"swbook"),(0,e.Uk)("后执行以下 git 命令")],-1),Cs=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 进入项目根目录"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" swbook\n"),(0,e._)("span",{class:"token comment"},"# 连接私库，将本地的代码添加、提交、推送到远程私库的 master 分支"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"git"),(0,e.Uk)(" remote "),(0,e._)("span",{class:"token function"},"add"),(0,e.Uk)(" origin git@github.com:silentims/swbook.git "),(0,e._)("span",{class:"token operator"},"&&"),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"git"),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"add"),(0,e.Uk)(),(0,e._)("span",{class:"token builtin class-name"},"."),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},"&&"),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"git"),(0,e.Uk)(" commit -m "),(0,e._)("span",{class:"token string"},"'init'"),(0,e.Uk)(),(0,e._)("span",{class:"token operator"},"&&"),(0,e.Uk)(),(0,e._)("span",{class:"token function"},"git"),(0,e.Uk)(" push -u origin master\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),Ns=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"Git 命令名词解释"),(0,e._)("p",null,[(0,e._)("code",null,"git remote add origin xxx.git"),(0,e.Uk)("：创建和添加一个远程仓库连接")]),(0,e._)("p",null,[(0,e._)("code",null,"git add ."),(0,e.Uk)("：将本地项目中所有文件添加到版本控制")]),(0,e._)("p",null,[(0,e._)("code",null,"git commit -m 'init'"),(0,e.Uk)("：将本地版本控制的文件添加到本地仓库，并备注信息为 init")]),(0,e._)("p",null,[(0,e._)("code",null,"git push -u origin master"),(0,e.Uk)("：将本地仓库中文件推送至远程仓库")])],-1),As=(0,e._)("h4",{id:"后续提交",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#后续提交","aria-hidden":"true"},"#"),(0,e.Uk)(" 后续提交")],-1),js=(0,e._)("p",null,"不同于首次提交，每当新增或者修改文章后，需要托管到 Github 时，除了git 命令执行，亦可以直接通过 VScode 客户端进行操作，具体操作步骤如下：",-1),Ws=(0,e._)("p",null,"1.拉取",-1),Hs=(0,e._)("p",null,[(0,e.Uk)("如果是跨平台使用，每次提交前先拉取，等同于"),(0,e._)("code",null,"git pull"),(0,e.Uk)("命令")],-1),Is=(0,e._)("p",null,"2.提交",-1),Vs=(0,e._)("p",null,[(0,e.Uk)("如果修改了文件，在源代码管理菜单中，在②处输入提交的备注信息，然后打勾，等同于"),(0,e._)("code",null,"git commit"),(0,e.Uk)("命令，将代码提交至本地仓库")],-1),Os=(0,e._)("p",null,"2.推送",-1),Rs=(0,e._)("p",null,[(0,e.Uk)("将本地仓库的内容提交至Github 远程仓库对应的分支中，等同于"),(0,e._)("code",null,"git push"),(0,e.Uk)("命令")],-1),Ls=(0,e._)("h2",{id:"四、自动化部署",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#四、自动化部署","aria-hidden":"true"},"#"),(0,e.Uk)(" 四、自动化部署")],-1),Ms=(0,e._)("h3",{id:"创建脚本",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#创建脚本","aria-hidden":"true"},"#"),(0,e.Uk)(" 创建脚本")],-1),zs=(0,e._)("p",null,[(0,e.Uk)("在本地"),(0,e._)("code",null,"swbook"),(0,e.Uk)("目录下，创建新文件目录"),(0,e._)("code",null,".github/workflow"),(0,e.Uk)(",并创建"),(0,e._)("code",null,"main.yml"),(0,e.Uk)("文件")],-1),Ds=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" swbook\n"),(0,e._)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" -p .github/workflow\n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" .github/workflow\n"),(0,e._)("span",{class:"token function"},"touch"),(0,e.Uk)(" main.yml\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),Ks=(0,e._)("h3",{id:"配置脚本",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#配置脚本","aria-hidden":"true"},"#"),(0,e.Uk)(" 配置脚本")],-1),qs=(0,e._)("p",null,[(0,e.Uk)("修改"),(0,e._)("code",null,"main.yml"),(0,e.Uk)("文件：")],-1),Ys=(0,e._)("div",{class:"language-yaml ext-yml line-numbers-mode"},[(0,e._)("pre",{class:"language-yaml"},[(0,e._)("code",null,[(0,e._)("span",{class:"token key atrule"},"name"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" Deploy GitHub Pages\n\n"),(0,e._)("span",{class:"token comment"},"# 触发条件：在 push 到 master 分支后"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token key atrule"},"on"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n  "),(0,e._)("span",{class:"token key atrule"},"push"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token key atrule"},"branches"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(" master\t"),(0,e._)("span",{class:"token comment"},"#注意要和 Github仓库的分支名一致，有些人 Github 仓库默认是 main"),(0,e.Uk)("\n\n"),(0,e._)("span",{class:"token comment"},"# 任务"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token key atrule"},"jobs"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n  "),(0,e._)("span",{class:"token key atrule"},"build-and-deploy"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"# 服务器环境：最新版 Ubuntu"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token key atrule"},"runs-on"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" ubuntu"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)("latest\n    "),(0,e._)("span",{class:"token key atrule"},"steps"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token comment"},"# 拉取代码"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(),(0,e._)("span",{class:"token key atrule"},"name"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" Checkout\n        "),(0,e._)("span",{class:"token key atrule"},"uses"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" actions/checkout@v2\n        "),(0,e._)("span",{class:"token key atrule"},"with"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"persist-credentials"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token boolean important"},"false"),(0,e.Uk)("\n\n      "),(0,e._)("span",{class:"token comment"},"# 1、生成静态文件"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(),(0,e._)("span",{class:"token key atrule"},"name"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" Build\n        "),(0,e._)("span",{class:"token key atrule"},"run"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" npm install "),(0,e._)("span",{class:"token important"},"&&"),(0,e.Uk)(" npm run docs"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("build\n\n      "),(0,e._)("span",{class:"token comment"},"# 2、部署到 GitHub Pages"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(),(0,e._)("span",{class:"token key atrule"},"name"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" Deploy\n        "),(0,e._)("span",{class:"token key atrule"},"uses"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" JamesIves/github"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)("pages"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)("deploy"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)("action@releases/v3\n        "),(0,e._)("span",{class:"token key atrule"},"with"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"ACCESS_TOKEN"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" $"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(" secrets.ACCESS_TOKEN "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"# Github 的 token"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"REPOSITORY_NAME"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" silentims/silentims.github.io\t"),(0,e._)("span",{class:"token comment"},"# Github Pages 对应的仓库地址"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"BRANCH"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" master\t"),(0,e._)("span",{class:"token comment"},"# Github Pages 对应的仓库的分支"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"FOLDER"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" docs/.vuepress/dist\t"),(0,e._)("span",{class:"token comment"},"#注意这里的 docs/.vuepress/dist 表示的是 npm run docs:build 打包生成静态资源的路径，因为我们的目的是只需要将打包后的全部文件推送到 Github Pages 仓库即可，实在不清楚这个目录配置的对不对，可以先在本地执行 npm run docs:build，看看编译后的文件 dist 存在哪里，如果按照我上述的文件结构，不需要修改"),(0,e.Uk)("\n          \n      "),(0,e._)("span",{class:"token comment"},"# 3、部署到云服务器（不涉及可以注释或删除）"),(0,e.Uk)("\n      "),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)(),(0,e._)("span",{class:"token key atrule"},"name"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" rsync deployments\n      \t"),(0,e._)("span",{class:"token comment"},"# 关于该插件详细可阅读https://github.com/Burnett01/rsync-deployments"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token key atrule"},"uses"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" burnett01/rsync"),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)("deployments@5.0 \n        "),(0,e._)("span",{class:"token key atrule"},"with"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token comment"},'# 这里是 rsync 的参数 switches: -avzh --delete --exclude="" --include="" --filter=""'),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"switches"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(),(0,e._)("span",{class:"token punctuation"},"-"),(0,e.Uk)("avzh\n          "),(0,e._)("span",{class:"token key atrule"},"path"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" docs/.vuepress/dist/\t"),(0,e._)("span",{class:"token comment"},"# github 源目录"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"remote_path"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" /root/nginx/www/\t"),(0,e._)("span",{class:"token comment"},"# 云服务器目标目录"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"remote_host"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" techxiang.com\t"),(0,e._)("span",{class:"token comment"},"# 这里可以是域名（域名已解析到云服务器）或者直接是云服务器公网ip"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"remote_user"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" root\t"),(0,e._)("span",{class:"token comment"},"# 云服务器的用户"),(0,e.Uk)("\n          "),(0,e._)("span",{class:"token key atrule"},"remote_key"),(0,e._)("span",{class:"token punctuation"},":"),(0,e.Uk)(" $"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)(" secrets.ALIYUN_RSA_PRIVATE_KEY "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"# 云服务器私钥"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"17"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"18"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"19"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"20"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"21"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"22"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"23"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"24"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"25"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"26"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"27"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"28"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"29"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"30"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"31"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"32"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"33"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"34"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"35"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"36"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"37"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"38"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"39"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"40"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"41"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"42"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"43"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"44"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"45"),(0,e._)("br")])],-1),$s=(0,e._)("p",null,[(0,e._)("strong",null,"文件中的部分参数说明")],-1),Fs=(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("code",null,"on"),(0,e.Uk)(" 表示触发条件")]),(0,e._)("li",null,[(0,e._)("code",null,"jobs"),(0,e.Uk)(" 表示要做的工作")]),(0,e._)("li",null,[(0,e._)("code",null,"step"),(0,e.Uk)(" 表示要做的步骤，前一步失败，后面不会继续执行。")]),(0,e._)("li",null,[(0,e._)("code",null,"name"),(0,e.Uk)(" 表示 action 的名称，可以自定义")]),(0,e._)("li",null,[(0,e._)("code",null,"uses"),(0,e.Uk)(" 表示使用哪个插件，社区有很多优秀插件，可以直接搜索和使用")]),(0,e._)("li",null,[(0,e._)("code",null,"with"),(0,e.Uk)(" 表示传给插件的参数，一般在插件的主页都会有参数的使用说明")])],-1),Bs=(0,e._)("p",null,[(0,e._)("strong",null,"文件中参数涉及其他操作的说明")],-1),Js=(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("code",null,"REPOSITORY_NAME"),(0,e.Uk)("：silentims/silentims.github.io")])],-1),Qs=(0,e._)("p",null,"配置此项时，需要先去 Github 创建一个新库，Github Pages创建会依赖此库：",-1),Xs=(0,e._)("blockquote",null,[(0,e._)("p",null,"必须为 public 项目，同时勾选创建 README 文件，目的是创建后不再是一个空库，自动化脚本推送时避免空库而报错")],-1),Zs=(0,e._)("p",null,[(0,e._)("img",{src:_,alt:"image-20210810153121361"})],-1),na=(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("code",null,"ACCESS_TOKEN"),(0,e.Uk)(":")])],-1),sa=(0,e._)("p",null,"此处涉及两处特殊的参数值：ACCESS_TOKEN 和 ALIYUN_RSA_PRIVATE_KEY，分别参考以下说明：",-1),aa=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"为什么要使用密钥？"),(0,e._)("p",null,"为了安全，像令牌，TOKEN 、云服务器 ip 地址等这类重要信息，不能够暴露给其他人，或者你认为很重要的其他信息，不想别人看到，那么就使用 Github 提供的 secrets 功能，避免泄露")],-1),ea=(0,e._)("p",null,[(0,e._)("strong",null,"1. secrets.ACCESS_TOKEN")],-1),la=(0,e._)("p",null,"这个 ACCESS_TOKEN 是访问 GitHub API 的令牌，可以在 GitHub 主页，点击个人头像，Settings -> Developer settings -> Personal access tokens 进行生成或更新（权限选择 repo 相关的即可，如下图中橙色部分），第一次生成后你可以看到这个令牌，然后再也不会显示，因此你需要记下来，本篇假设生成的 TOKEN 令牌是 xxx",-1),ta=(0,e._)("p",null,[(0,e.Uk)("然后打开项目"),(0,e._)("code",null,"swbook"),(0,e.Uk)("的Setting -> Secrets -> New repository secret：")],-1),ca=(0,e._)("p",null,[(0,e._)("img",{src:r,alt:"image-20210810153312267"})],-1),_a=(0,e._)("p",null,"加入环境变量， name 是 ACCESS_TOKEN，value 是 xxx。保存。",-1),ra=(0,e._)("p",null,[(0,e._)("img",{src:o,alt:"image-20210810153347647"})],-1),oa=(0,e._)("p",null,[(0,e._)("strong",null,"2.secrets.ALIYUN_RSA_PRIVATE_KEY")],-1),ia=(0,e._)("blockquote",null,[(0,e._)("p",null,"不涉及云服务器发布可以跳过不配置")],-1),ua=(0,e._)("p",null,"文件中这一项配置的是云服务器的私钥，一般情况下云服务器控制台都会提供一个私钥文件，如果服务器没有给你这个私钥，请自行登录云服务器生成一个可用于登录的私钥。",-1),pa=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"为什么配置文件是私钥而不是公钥？"),(0,e._)("p",null,[(0,e.Uk)("因为 Github 自动化脚本运行时，属于创建连接的一段，会携带配置好的私钥访问云服务器，云服务器会拿到私钥解密，然后校验与"),(0,e._)("code",null,"authorized_keys"),(0,e.Uk)("中的公钥是否匹配，所以此处不要配置反了")])],-1),ka=(0,e._)("p",null,"以下是生成公钥、私钥的操作步骤：",-1),ba=(0,e._)("ol",null,[(0,e._)("li",null,"登录云服务器，查询或创建公钥、私钥：")],-1),ma=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 查询目录下是否有 id_rsa 和 id_rsa.pub 前者是私钥，后者是公钥"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" ~/.ssh\n"),(0,e._)("span",{class:"token comment"},"# 若没有，则执行以下命令生成，这里生成 4096 位 RSA 密钥"),(0,e.Uk)("\nssh-keygen -t rsa -b "),(0,e._)("span",{class:"token number"},"4096"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),da=(0,e._)("ol",{start:"2"},[(0,e._)("li",null,[(0,e._)("p",null,[(0,e.Uk)("将"),(0,e._)("code",null,"id_rsa.pub"),(0,e.Uk)("公钥内容复制到同目录下的"),(0,e._)("code",null,"authorized_keys"),(0,e.Uk)("文件中")])]),(0,e._)("li",null,[(0,e._)("p",null,[(0,e.Uk)("将"),(0,e._)("code",null,"id_rsa"),(0,e.Uk)(" 私钥中的内容复制出来，然后到 GitHub 项目中添加为 Secrets（与 1 中配置 secrets.ACCESS_TOKEN 一样） 如下：")])])],-1),Ua=(0,e._)("p",null,[(0,e._)("img",{src:i,alt:"image-20210810153802480"})],-1),ha=(0,e._)("h3",{id:"执行脚本",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#执行脚本","aria-hidden":"true"},"#"),(0,e.Uk)(" 执行脚本")],-1),ga=(0,e._)("p",null,"完成 yml 文件配置后，可以将此配置文件从本地提交并推送到 Github 中，此时进入项目所在仓库->Actions 即可查看执行情况，如果打钩则发布成功，报错的点进去查看具体错误信息，根据错误信息来不断修改配置文件参数即可",-1),va=(0,e._)("p",null,[(0,e._)("img",{src:u,alt:"image-20210810153845431"})],-1),xa=(0,e._)("h3",{id:"网站访问",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#网站访问","aria-hidden":"true"},"#"),(0,e.Uk)(" 网站访问")],-1),fa=(0,e._)("p",null,"打开刚刚自动化部署到 Github Pages 的仓库，此时仓库中已经有了刚刚推送的静态网站文件，输入 https://silentims.github.io 即可访问(其中域名为创建的仓库名)",-1),ya=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},"恭喜 ~ 🎉 🎉 🎉"),(0,e._)("p",null,"至此，自动化部署已完成 Github Pages 的部分，如果有自己的域名，GIthub Pages 也支持修改为域名访问。")],-1),wa=(0,e._)("div",{class:"custom-container warning"},[(0,e._)("p",{class:"custom-container-title"},"多说几句"),(0,e._)("p",null,"如果觉得 Github Pages 访问速度不理想，可以将 Github 仓库替换为国内的 Gitee，此处不做拓展，原理是基本一样的，以上也是目前大部分采用的免费搭建博客的方案，毕竟云服务器也需要花钱购买，所以单纯需要一个静态博客，完全不需要购买云服务器，毕竟云服务器除了新用户优惠力度大，后续每年续费的成本还是不小的一笔开支。")],-1),Sa=(0,e._)("h2",{id:"五、云服务器域名访问",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#五、云服务器域名访问","aria-hidden":"true"},"#"),(0,e.Uk)(" 五、云服务器域名访问")],-1),Pa=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},"提示"),(0,e._)("p",null,"前面已经将代码托管至 Github，同时通过 Action 脚本自动化部署发布到 Github Pages 和云服务器，Github Pages 可以直接访问到，但是推送到云服务器的静态网页文件却不能直接访问，所以本章目的就解决这个问题")],-1),Ga=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"💡 输入网址后是如何访问到服务器上的静态文件的？"),(0,e._)("p",null,"比如，输入我的主站网址 techxiang.com，大致流程就是，电脑的浏览器解析你输入的网址，然后通过你使用的操作系统调用网卡，网卡会将访问的目标地址、访问者 ip、物理网关等信息，通过你所在的网络环境，比如从路由器到光猫，然后到宽带运营商，运营商再根据你输入的网址，层层向下解析，最后找到百度服务器的 ip 地址，因为 ip 地址与具体某一台服务器做了备案绑定，这样就能访问到服务器上的内容，随后再以原同样的方式将内容响应到你的电脑上，通过浏览器渲染页面，就完成了。")],-1),Ta=(0,e._)("p",null,"结合上面大致的流程，目前服务器上已经通过自动化部署后，有了静态资源文件，剩下只需要：",-1),Ea=(0,e._)("ul",null,[(0,e._)("li",null,"注册一个域名，并将其解析到云服务器的 IP 上"),(0,e._)("li",null,"云服务器安装 Nginx 来代理该域名发到服务器的访问请求并返回服务器上静态页面资源"),(0,e._)("li",null,"提升用户访问安全性，还可以申请 HTTPS 证书，让网站支持 HTTPS 访问")],-1),Ca={id:"域名注册",tabindex:"-1"},Na=(0,e._)("a",{class:"header-anchor",href:"#域名注册","aria-hidden":"true"},"#",-1),Aa=(0,e.Uk)(" 域名注册 "),ja=(0,e.Uk)("可通过在阿里云的"),Wa={href:"https://wanwang.aliyun.com/domain",target:"_blank",rel:"noopener noreferrer"},Ha=(0,e.Uk)("域名注册"),Ia=(0,e.Uk)("上查询和注册一个域名，需要实名认证，同时注册成功后，建议进行备案，不然可能容易出现无法访问的情况。"),Va=(0,e._)("h3",{id:"域名解析",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#域名解析","aria-hidden":"true"},"#"),(0,e.Uk)(" 域名解析")],-1),Oa=(0,e._)("p",null,"登录阿里云控制台，进入产品服务 -> 域名，可以管理已注册生效的域名，我们需要将域名解析到云服务器的公网 ip 上",-1),Ra=(0,e._)("blockquote",null,[(0,e._)("p",null,"由于注册的域名，一般都是顶级域名，比如 techxiang.com，为了大众对网站普遍的认知度，我们新增两条解析记录，除了解析到 techxiang.com之外，另一条解析到 www.techxiang.com，即都支持访问")],-1),La=(0,e._)("ul",null,[(0,e._)("li",null,"记录类型：A"),(0,e._)("li",null,"主机记录：@ 和 www"),(0,e._)("li",null,"记录值：xx.xx.xx.xx (这是服务器的公网 ip)")],-1),Ma=(0,e._)("p",null,"两条都新增后，如下图所示表示已经配置好，等待 10 分钟后生效",-1),za=(0,e._)("p",null,[(0,e._)("img",{src:p,alt:"image-20210810153945933"})],-1),Da={id:"证书申请",tabindex:"-1"},Ka=(0,e._)("a",{class:"header-anchor",href:"#证书申请","aria-hidden":"true"},"#",-1),qa=(0,e.Uk)(" 证书申请"),Ya=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"SSL 证书的好处"),(0,e._)("p",null,"(1)保障用户隐私信息安全"),(0,e._)("p",null,"(2)帮助用户识别钓鱼网站"),(0,e._)("p",null,"(3)利于网站SEO优化"),(0,e._)("p",null,"(4)提升公司品牌形象和可信度")],-1),$a=(0,e._)("p",null,"HTTPS 证书根据安全性不同收费也不同，最基础的免费 SSL 证书，可以在阿里云控制台搜索”SSL 证书“申请，当然也可以去第三方有资质的平台免费申请，一般免费的有效期是三个月到一年左右。",-1),Fa=(0,e._)("h3",{id:"nginx安装与配置",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#nginx安装与配置","aria-hidden":"true"},"#"),(0,e.Uk)(" Nginx安装与配置")],-1),Ba=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},"提示"),(0,e._)("p",null,"网络上有很多安装的方法，此处不用原生下载后编译的方法，而使用 Docker 安装，并用挂载磁盘的方式管理和配置，简单方便")],-1),Ja=(0,e._)("blockquote",null,[(0,e._)("p",null,"docker 的安装此处暂不做详细描述，后续可能会补充进来")],-1),Qa=(0,e._)("h4",{id:"安装",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#安装","aria-hidden":"true"},"#"),(0,e.Uk)(" 安装")],-1),Xa=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,"docker pull nginx\n")]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br")])],-1),Za=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},"说明"),(0,e._)("p",null,"第一次创建 nginx 镜像的目的是不启用挂载，直接创建一个默认镜像，然后复制镜像中 nginx 的配置文件到云服务器对应的目录，方便在此基础上做修改，然后第二次创建 nginx 启用挂载模式，直接使用刚刚磁盘中的配置文件")],-1),ne=(0,e._)("p",null,"第一次创建 nginx 镜像",-1),se=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e.Uk)("docker run -d --name nginx -p "),(0,e._)("span",{class:"token number"},"80"),(0,e.Uk)(":80 -d nginx\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br")])],-1),ae=(0,e._)("p",null,"创建本地挂载目录",-1),ee=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" nginx \n"),(0,e._)("span",{class:"token builtin class-name"},"cd"),(0,e.Uk)(" nginx\n"),(0,e._)("span",{class:"token comment"},"# 批量创建 nginx 目录文件夹、用于存放配置文件、日志、ssl 证书、静态资源 "),(0,e.Uk)("\n"),(0,e._)("span",{class:"token function"},"mkdir"),(0,e.Uk)(" -p conf/conf.d logs ssl www\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),le=(0,e._)("p",null,[(0,e.Uk)("复制镜像中"),(0,e._)("code",null,"nginx.conf"),(0,e.Uk)("和"),(0,e._)("code",null,"default.conf"),(0,e.Uk)("到本地磁盘")],-1),te=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 查看 nginx 运行时镜像的 CONTAINER ID"),(0,e.Uk)("\ndocker "),(0,e._)("span",{class:"token function"},"ps"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token comment"},"# 复制 nginx.conf，其中 224d770c77e8 为镜像的 CONTAINER ID ，其中/etc/nginx/nginx.conf为镜像的路径，/root/nginx/conf为云服务器配置文件的路径"),(0,e.Uk)("\ndocker "),(0,e._)("span",{class:"token function"},"cp"),(0,e.Uk)(" 224d770c77e8:/etc/nginx/nginx.conf /root/nginx/conf\n"),(0,e._)("span",{class:"token comment"},"# 复制 default.conf "),(0,e.Uk)("\ndocker "),(0,e._)("span",{class:"token function"},"cp"),(0,e.Uk)(" 224d770c77e8:/etc/nginx/conf.d/default.conf /root/nginx/conf/conf.d/default.conf\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br")])],-1),ce=(0,e._)("p",null,"此时文件结构目录如下：",-1),_e=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e.Uk)("nginx\t\t"),(0,e._)("span",{class:"token comment"},"# nginx 配置根目录 手动创建"),(0,e.Uk)("\n├── conf\t"),(0,e._)("span",{class:"token comment"},"# 配置文件目录 手动创建"),(0,e.Uk)("\n│   ├── conf.d\t"),(0,e._)("span",{class:"token comment"},"# 手动创建"),(0,e.Uk)("\n│   │   └── default.conf\t"),(0,e._)("span",{class:"token comment"},"# 服务配置文件，由 docker 镜像复制而来"),(0,e.Uk)("\n│   └── nginx.conf\t"),(0,e._)("span",{class:"token comment"},"# 主配置文件，由 docker 镜像复制而来"),(0,e.Uk)("\n├── logs\t"),(0,e._)("span",{class:"token comment"},"# 日志目录 手动创建"),(0,e.Uk)("\n├── ssl\t\t"),(0,e._)("span",{class:"token comment"},"# https 证书，后面会用 手动创建"),(0,e.Uk)("\n└── www\t\t"),(0,e._)("span",{class:"token comment"},"# 静态网页资源，自动化部署将代码推送到此目录 手动创建"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br")])],-1),re=(0,e._)("p",null,"检查配置文件是否已经在对应的目录中，确认无误后停用现有 nginx 镜像",-1),oe=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 查看当前运行的 docker 镜像"),(0,e.Uk)("\ndocker "),(0,e._)("span",{class:"token function"},"ps"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token comment"},"# 停用当前 nginx"),(0,e.Uk)("\ndocker stop 224d770c77e8\n"),(0,e._)("span",{class:"token comment"},"# 移除当前 nginx 镜像"),(0,e.Uk)("\ndocker "),(0,e._)("span",{class:"token function"},"rm"),(0,e.Uk)(" 224d770c77e8\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br")])],-1),ie=(0,e._)("p",null,"再次创建 nginx 镜像，本次创建的镜像才是真正要使用的，参数多了许多磁盘挂载的参数，即镜像中对应的资源目录挂载到之前创建好的磁盘目录上，方便后续修改和使用",-1),ue=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 直接复制下面全部命令，粘贴到命令行运行（注意每行末尾都有个斜杠，是换行连接符）"),(0,e.Uk)("\ndocker run -d "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n--name nginx "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n-p "),(0,e._)("span",{class:"token number"},"80"),(0,e.Uk)(":80 "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n-p "),(0,e._)("span",{class:"token number"},"443"),(0,e.Uk)(":443 "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n-v /root/nginx/www:/usr/share/nginx/html "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n-v /root/nginx/conf/nginx.conf:/etc/nginx/nginx.conf "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n-v /root/nginx/conf/conf.d/default.conf:/etc/nginx/conf.d/default.conf "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n-v /root/nginx/logs:/var/log/nginx "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n-v /root/nginx/ssl:/ssl "),(0,e._)("span",{class:"token punctuation"},"\\"),(0,e.Uk)("\n-d nginx\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br")])],-1),pe=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"-v 的参数说明"),(0,e._)("p",null,"说明"),(0,e._)("p",null,[(0,e._)("code",null,"/root/nginx/www"),(0,e.Uk)(" 用于存放nginx 挂载的静态网站")]),(0,e._)("p",null,[(0,e._)("code",null,"/root/nginx/conf/nginx.conf"),(0,e.Uk)("nginx 主配置文件")]),(0,e._)("p",null,[(0,e._)("code",null,"/root/nginx/conf/conf.d/default.conf"),(0,e.Uk)("nginx 服务端配置文件")]),(0,e._)("p",null,[(0,e._)("code",null,"/root/nginx/conf/conf.d/default.conf"),(0,e.Uk)("nginx 日志")]),(0,e._)("p",null,[(0,e._)("code",null,"/root/nginx/ssl"),(0,e.Uk)("存放域名对应的 HTTPS 证书")])],-1),ke=(0,e._)("p",null,[(0,e.Uk)("创建成功后，可通过"),(0,e._)("code",null,"docker ps"),(0,e.Uk)("查询镜像启动的状态，启动成功的状态为"),(0,e._)("code",null,"UP")],-1),be=(0,e._)("h4",{id:"配置",tabindex:"-1"},[(0,e._)("a",{class:"header-anchor",href:"#配置","aria-hidden":"true"},"#"),(0,e.Uk)(" 配置")],-1),me=(0,e._)("p",null,"进入配置文件目录，修改代理服务的配置",-1),de=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token function"},"vi"),(0,e.Uk)(" nginx/conf/conf.d default.conf\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br")])],-1),Ue=(0,e._)("p",null,[(0,e.Uk)("修改"),(0,e._)("code",null,"default.conf"),(0,e.Uk)("文件，提供未开启和开启 HTTPS 访问共两种版本参考")],-1),he=(0,e._)("ol",null,[(0,e._)("li",null,"未开启 https 版本配置")],-1),ge=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"点击查看详细配置（修改处已加深显示）"),(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e.Uk)("server "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    listen       "),(0,e._)("span",{class:"token number"},"80"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("  "),(0,e._)("span",{class:"token comment"},"#侦听80端口，即默认开启 http 访问"),(0,e.Uk)("\n    listen  "),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("::"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)(":80"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    server_name  techxiang.com,www.techxiang.com"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"# 需要解析的域名，也就是前面申请和解析的域名地址"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# 定义首页索引目录和名称"),(0,e.Uk)("\n    location / "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        root   /usr/share/nginx/html"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n        index  index.html index.htm"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"#error_page  404              /404.html;"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# redirect server error pages to the static page /50x.html"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"# 重定向错误页面到 /50x.html"),(0,e.Uk)("\n    error_page   "),(0,e._)("span",{class:"token number"},"500"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"502"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"503"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"504"),(0,e.Uk)("  /50x.html"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    location "),(0,e._)("span",{class:"token operator"},"="),(0,e.Uk)(" /50x.html "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        root   /usr/share/nginx/html"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# proxy the PHP scripts to Apache listening on 127.0.0.1:80"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#location ~ \\.php$ {"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    proxy_pass   http://127.0.0.1;"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token comment"},"#}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#location ~ \\.php$ {"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    root           html;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    fastcgi_pass   127.0.0.1:9000;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    fastcgi_index  index.php;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    include        fastcgi_params;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# deny access to .htaccess files, if Apache's document root"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"# concurs with nginx's one"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#location ~ /\\.ht {"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    deny  all;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"highlight-lines"},[(0,e._)("br"),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br")]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"17"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"18"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"19"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"20"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"21"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"22"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"23"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"24"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"25"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"26"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"27"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"28"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"29"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"30"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"31"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"32"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"33"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"34"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"35"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"36"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"37"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"38"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"39"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"40"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"41"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"42"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"43"),(0,e._)("br")])])],-1),ve=(0,e._)("ol",{start:"2"},[(0,e._)("li",null,"开启 https 版本配置")],-1),xe=(0,e._)("blockquote",null,[(0,e._)("p",null,[(0,e.Uk)("开启 HTTPS 后，需要自行上传 HTTPS 证书"),(0,e._)("code",null,"server.crt"),(0,e.Uk)("和"),(0,e._)("code",null,"·server.key"),(0,e.Uk)("文件到 ssl 目录下")])],-1),fe=(0,e._)("details",{class:"custom-container details"},[(0,e._)("summary",null,"点击查看详细配置（增加带有 ssl 的参数，已加深显示）"),(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e.Uk)("server "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n    listen       "),(0,e._)("span",{class:"token number"},"80"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("  "),(0,e._)("span",{class:"token comment"},"#侦听80端口，即默认开启 http 访问，如果强制所有的访问都必须是HTTPSS 话，80端口的都需要注销掉"),(0,e.Uk)("\n    listen  "),(0,e._)("span",{class:"token punctuation"},"["),(0,e.Uk)("::"),(0,e._)("span",{class:"token punctuation"},"]"),(0,e.Uk)(":80"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    listen    "),(0,e._)("span",{class:"token number"},"443"),(0,e.Uk)(" ssl"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    server_name  techxiang.com,www.techxiang.com"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"# 需要解析的域名，也就是前面申请和解析的域名地址"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# 增加ssl"),(0,e.Uk)("\n    ssl on"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("        "),(0,e._)("span",{class:"token comment"},"# 如果强制HTTPs访问，这行要打开"),(0,e.Uk)("\n    ssl_certificate /ssl/server.crt"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"# https证书存放位置"),(0,e.Uk)("\n    ssl_certificate_key /ssl/server.key"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\t"),(0,e._)("span",{class:"token comment"},"# https证书存放位置"),(0,e.Uk)("\n\n    ssl_session_cache    shared:SSL:1m"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    ssl_session_timeout  5m"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n\n     "),(0,e._)("span",{class:"token comment"},"# 指定密码为openssl支持的格式"),(0,e.Uk)("\n     ssl_protocols  SSLv2 SSLv3 TLSv1.2"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n\n     ssl_ciphers  HIGH:"),(0,e._)("span",{class:"token operator"},"!"),(0,e.Uk)("aNULL:"),(0,e._)("span",{class:"token operator"},"!"),(0,e.Uk)("MD5"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("  "),(0,e._)("span",{class:"token comment"},"# 密码加密方式"),(0,e.Uk)("\n     ssl_prefer_server_ciphers  on"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("   "),(0,e._)("span",{class:"token comment"},"# 依赖SSLv3和TLSv1协议的服务器密码将优先于客户端密码"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"#access_log  /var/log/nginx/host.access.log  main;"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# 定义首页索引目录和名称"),(0,e.Uk)("\n    location / "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        root   /usr/share/nginx/html"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n        index  index.html index.htm"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"#error_page  404              /404.html;"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# redirect server error pages to the static page /50x.html"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"# 重定向错误页面到 /50x.html"),(0,e.Uk)("\n    error_page   "),(0,e._)("span",{class:"token number"},"500"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"502"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"503"),(0,e.Uk)(),(0,e._)("span",{class:"token number"},"504"),(0,e.Uk)("  /50x.html"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    location "),(0,e._)("span",{class:"token operator"},"="),(0,e.Uk)(" /50x.html "),(0,e._)("span",{class:"token punctuation"},"{"),(0,e.Uk)("\n        root   /usr/share/nginx/html"),(0,e._)("span",{class:"token punctuation"},";"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# proxy the PHP scripts to Apache listening on 127.0.0.1:80"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#location ~ \\.php$ {"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    proxy_pass   http://127.0.0.1;"),(0,e.Uk)("\n        "),(0,e._)("span",{class:"token comment"},"#}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#location ~ \\.php$ {"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    root           html;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    fastcgi_pass   127.0.0.1:9000;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    fastcgi_index  index.php;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    include        fastcgi_params;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#}"),(0,e.Uk)("\n\n    "),(0,e._)("span",{class:"token comment"},"# deny access to .htaccess files, if Apache's document root"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"# concurs with nginx's one"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#location ~ /\\.ht {"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#    deny  all;"),(0,e.Uk)("\n    "),(0,e._)("span",{class:"token comment"},"#}"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token punctuation"},"}"),(0,e.Uk)("\n")])]),(0,e._)("div",{class:"highlight-lines"},[(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("br"),(0,e._)("br"),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("div",{class:"highlight-line"}," "),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br"),(0,e._)("br")]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"5"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"6"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"7"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"8"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"9"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"10"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"11"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"12"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"13"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"14"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"15"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"16"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"17"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"18"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"19"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"20"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"21"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"22"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"23"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"24"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"25"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"26"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"27"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"28"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"29"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"30"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"31"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"32"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"33"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"34"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"35"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"36"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"37"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"38"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"39"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"40"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"41"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"42"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"43"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"44"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"45"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"46"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"47"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"48"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"49"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"50"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"51"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"52"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"53"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"54"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"55"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"56"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"57"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"58"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"59"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"60"),(0,e._)("br")])])],-1),ye=(0,e._)("p",null,"都配置好后，重启 nginx",-1),we=(0,e._)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,e._)("pre",{class:"language-bash"},[(0,e._)("code",null,[(0,e._)("span",{class:"token comment"},"# 查询 nginx 镜像 id"),(0,e.Uk)("\ndocker "),(0,e._)("span",{class:"token function"},"ps"),(0,e.Uk)("\n"),(0,e._)("span",{class:"token comment"},"# 重启 nginx ,此处 e60222e0a641 为第二次 nginx 镜像 id"),(0,e.Uk)("\ndocker restart e60222e0a641\n")])]),(0,e._)("div",{class:"line-numbers"},[(0,e._)("span",{class:"line-number"},"1"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"2"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"3"),(0,e._)("br"),(0,e._)("span",{class:"line-number"},"4"),(0,e._)("br")])],-1),Se=(0,e._)("div",{class:"custom-container tip"},[(0,e._)("p",{class:"custom-container-title"},"恭喜 ~ 🎉 🎉 🎉"),(0,e._)("p",null,"至此，服务器开启域名访问的相关配置已经完成，通过输入注册的域名，访问一下自己的网站吧")],-1),Pe={render:function(n,s){const a=(0,e.up)("OutboundLink"),l=(0,e.up)("CodeGroupItem"),t=(0,e.up)("CodeGroup"),c=(0,e.up)("Badge");return(0,e.wg)(),(0,e.iD)(e.HY,null,[k,(0,e._)("div",b,[m,(0,e._)("p",null,[d,(0,e._)("a",U,[h,(0,e.Wm)(a)]),g,(0,e._)("a",v,[x,(0,e.Wm)(a)]),f,(0,e._)("a",y,[w,(0,e.Wm)(a)]),S,(0,e._)("a",P,[G,(0,e.Wm)(a)]),T]),E]),C,N,A,j,(0,e._)("div",W,[H,(0,e._)("p",null,[I,(0,e._)("a",V,[O,(0,e.Wm)(a)])])]),R,(0,e.Wm)(t,null,{default:(0,e.w5)((()=>[(0,e.Wm)(l,{title:"Mac安装"},{default:(0,e.w5)((()=>[L])),_:1}),(0,e.Wm)(l,{title:"Win安装"},{default:(0,e.w5)((()=>[M])),_:1})])),_:1}),z,(0,e._)("div",D,[K,(0,e._)("p",null,[q,(0,e._)("a",Y,[$,(0,e.Wm)(a)]),F])]),B,(0,e.Wm)(t,null,{default:(0,e.w5)((()=>[(0,e.Wm)(l,{title:"Mac安装"},{default:(0,e.w5)((()=>[J])),_:1}),(0,e.Wm)(l,{title:"Win安装"},{default:(0,e.w5)((()=>[Q])),_:1})])),_:1}),X,Z,(0,e._)("p",null,[nn,(0,e._)("a",sn,[an,(0,e.Wm)(a)]),en]),ln,tn,(0,e._)("ul",null,[(0,e._)("li",null,[cn,(0,e.Wm)(c,{type:"danger",text:"待更新",vertical:"top"})]),(0,e._)("li",null,[_n,(0,e.Wm)(c,{type:"danger",text:"待更新",vertical:"top"})])]),rn,(0,e._)("div",on,[un,(0,e._)("p",null,[pn,(0,e._)("a",kn,[bn,(0,e.Wm)(a)]),mn])]),dn,(0,e._)("blockquote",null,[(0,e._)("p",null,[Un,(0,e._)("a",hn,[gn,(0,e.Wm)(a)])])]),vn,xn,fn,yn,wn,Sn,Pn,Gn,Tn,En,Cn,Nn,An,jn,Wn,Hn,In,(0,e._)("div",Vn,[On,(0,e._)("p",null,[Rn,(0,e._)("a",Ln,[Mn,(0,e.Wm)(a)])])]),zn,Dn,Kn,qn,Yn,$n,Fn,Bn,Jn,(0,e._)("blockquote",null,[(0,e._)("p",null,[Qn,(0,e._)("a",Xn,[Zn,(0,e.Wm)(a)])])]),ns,ss,as,es,ls,(0,e._)("p",null,[ts,(0,e._)("a",cs,[_s,(0,e.Wm)(a)]),rs]),os,is,us,ps,(0,e._)("p",null,[ks,(0,e._)("a",bs,[ms,(0,e.Wm)(a)]),ds,Us,hs]),gs,vs,xs,(0,e._)("h4",fs,[ys,ws,(0,e.Wm)(c,{type:"danger",text:"待完善",vertical:"top"})]),Ss,Ps,Gs,Ts,Es,Cs,Ns,As,js,Ws,Hs,Is,Vs,Os,Rs,Ls,Ms,zs,Ds,Ks,qs,Ys,$s,Fs,Bs,Js,Qs,Xs,Zs,na,sa,aa,ea,la,ta,ca,_a,ra,oa,ia,ua,pa,ka,ba,ma,da,Ua,ha,ga,va,xa,fa,ya,wa,Sa,Pa,Ga,Ta,Ea,(0,e._)("h3",Ca,[Na,Aa,(0,e.Wm)(c,{type:"danger",text:"待完善",vertical:"top"})]),(0,e._)("p",null,[ja,(0,e._)("a",Wa,[Ha,(0,e.Wm)(a)]),Ia]),Va,Oa,Ra,La,Ma,za,(0,e._)("h3",Da,[Ka,qa,(0,e.Wm)(c,{type:"danger",text:"待完善",vertical:"top"})]),Ya,$a,Fa,Ba,Ja,Qa,Xa,Za,ne,se,ae,ee,le,te,ce,_e,re,oe,ie,ue,pe,ke,be,me,de,Ue,he,ge,ve,xe,fe,ye,we,Se],64)}}},138:(n,s,a)=>{n.exports=a.p+"assets/img/20210810152207.b5f3b0fc.png"},429:(n,s,a)=>{n.exports=a.p+"assets/img/20210810152319.94bd9108.png"},9796:(n,s,a)=>{n.exports=a.p+"assets/img/20210810152527.40a36f1d.png"},7318:(n,s,a)=>{n.exports=a.p+"assets/img/20210810153125.473dd4f2.png"},678:(n,s,a)=>{n.exports=a.p+"assets/img/20210810153315.b5f04f57.png"},5873:(n,s,a)=>{n.exports=a.p+"assets/img/20210810153353.a56d4d54.png"},1749:(n,s,a)=>{n.exports=a.p+"assets/img/20210810153805.533deb5b.png"},7953:(n,s,a)=>{n.exports=a.p+"assets/img/20210810153847.f09dfcee.png"},3732:(n,s,a)=>{n.exports=a.p+"assets/img/20210810153949.482afe37.png"}}]);